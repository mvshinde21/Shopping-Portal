package p_pageobjectmodel.example1.tests;
import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
public class RegistrationPage {
	
	public WebDriver driver;
	
	public String baseUrl="http://localhost/shopping/login.php";
	WebElement fullNameTextBox;
	WebElement  emailTextBox;
    WebElement contactTextBox;
    WebElement passwordTextBox;
    WebElement confirmPasswordTextBox;
    WebElement signUpButton;
    public WebElement RepetedEmail;
   public void RegistrationWithValidEmail(String name,String email,String pass,String contact,String cp) {
	  JavascriptExecutor js =(JavascriptExecutor) driver;	  
	  WebElement login = driver.findElement(By.xpath("/html/body/header/div[1]/div/div/div[1]/ul/li[4]/a/i"));
	  login.click();
	  js.executeScript("window.scrollBy(0, 400)");
	  driver.manage().window().maximize();
	  fullNameTextBox = driver.findElement(By.id("fullname"));
	  fullNameTextBox.sendKeys(name);
      
      emailTextBox = driver.findElement(By.id("email"));
      emailTextBox.sendKeys(email);
      
      contactTextBox= driver.findElement(By.id("contactno"));
      contactTextBox.sendKeys(contact);
      
      passwordTextBox = driver.findElement(By.id("password"));
      passwordTextBox.sendKeys(pass);
      
      confirmPasswordTextBox = driver.findElement(By.id("confirmpassword"));
      confirmPasswordTextBox.sendKeys(cp);
      
      
      signUpButton = driver.findElement(By.id("submit"));
      try
      {
	      signUpButton.click();
	      driver.switchTo().alert().accept();   
      }
      catch(Exception e)
      {
      	       RepetedEmail= driver.findElement(By.xpath("//*[@id=\"user-availability-status1\"]/span"));
		      System.out.println(RepetedEmail.getText());
	  }
 }
  public void initializeBrowser() {
		System.setProperty("webdriver.chrome.driver", "Files/chromedriver.exe");
		driver = new ChromeDriver();
		//baseUrl = "http://localhost/shopping/login.php";
		//driver.get(baseUrl);
		
  }
  public void closeBrowser()
	{
		driver.quit();
	}
}
